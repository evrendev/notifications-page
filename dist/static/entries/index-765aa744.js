import{_,s as g,o,c,a as n,t as h,p as x,b as I,r as u,e as p,n as S,f as A,g as w,F as y,h as R,i as b,j as v,k as N,l as $}from"../chunks/vendor-6ddce599.js";import{u as m}from"../chunks/common-a06e2329.js";const C={setup(){const t=m(),{allNotificationsIsReaded:a}=g(t);return{markAllAsRead:()=>{t.markAllAsRead(!a.value)},allNotificationsIsReaded:a}}},L=t=>(x("data-v-a6868588"),t=t(),I(),t),z={class:"flex align-items-center justify-content-space-between"},H=L(()=>n("div",{class:"flex align-items-center"},[n("h3",{class:"fw-bold fs-900"},"Notifications"),n("span",{class:"bg-primary-700 text-neutral-100 fw-bold"}," 3 ")],-1));function M(t,a,e,i,r,s){return o(),c("header",z,[H,n("div",null,[n("a",{href:"#",onClick:a[0]||(a[0]=l=>i.markAllAsRead()),class:"fs-600 text-neutral-800 text-decoration-none fw-regular"},h(i.allNotificationsIsReaded?"Mark al as read":"Mark all as unread"),1)])])}const T=_(C,[["render",M],["__scopeId","data-v-a6868588"]]);const B={name:"NotificationItem",props:{notification:{type:Object,required:!1}},setup(t){const a=m();let e=`../assets/images/avatar-${t.notification.profile.avatar}.webp`,i=u(new URL(e,import.meta.url).href),r=`../assets/images/${t.notification.image}.webp`,s=u(new URL(r,import.meta.url).href);return{avatarSrc:i,profileImgSrc:s,markAsRead:d=>{a.markAsRead(d)}}}},P={class:"avatar"},j=["src","alt"],O={class:"flex flex-direction-column"},V={class:"comment"},F=["innerHTML"],J={class:"time text-neutral-600"},U=["innerHTML"],q={key:0,class:"profile-image"},D=["src","alt"];function E(t,a,e,i,r,s){return o(),c("div",{onClick:a[0]||(a[0]=l=>e.notification.unread&&i.markAsRead(e.notification.id)),class:S(["item flex flex-direction-row",[{"bg-neutral-300 | unread":e.notification.unread},{"has-private-message":e.notification.private}]]),title:"Click on mark as read"},[n("div",null,[n("div",P,[n("img",{src:i.avatarSrc,alt:e.notification.profile.name},null,8,j)])]),n("div",O,[n("div",V,[n("p",{innerHTML:e.notification.text},null,8,F)]),n("div",J,h(e.notification.time)+" ago",1),e.notification.private?(o(),c("div",{key:0,class:"private-message text-neutral-800",innerHTML:e.notification.message},null,8,U)):p("",!0)]),e.notification.comment?(o(),c("div",q,[n("img",{src:i.profileImgSrc,alt:e.notification.profile.name},null,8,D)])):p("",!0)],2)}const G=_(B,[["render",E],["__scopeId","data-v-70c8c148"]]);const K={name:"App",components:{HeaderComponent:T,NotificationItem:G},setup(){const t=m(),{notifications:a}=A(g(t));return{notifications:a}}},Q={class:"container bg-neutral-100"};function W(t,a,e,i,r,s){const l=v("header-component"),d=v("notification-item");return o(),c("main",null,[n("div",Q,[w(l),(o(!0),c(y,null,R(i.notifications,f=>(o(),b(d,{key:f.id,notification:f},null,8,["notification"]))),128))])])}const X=_(K,[["render",W]]),k=N();k.use(t=>{const a=t.store.$id,e={serialize:JSON.stringify,deserialize:JSON.parse},i=e.deserialize(window.localStorage.getItem(a));i&&t.store.$patch(i),t.store.$subscribe((r,s)=>{window.localStorage.setItem(a,e.serialize(s))})});const Y=$(X);Y.use(k).mount("#app");
